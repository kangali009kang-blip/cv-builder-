<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Builder - Create Your Professional CV</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7W2HD9VWNN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-7W2HD9VWNN');
    </script>

    <!-- === SEO Meta Tags === -->
    <!-- Primary Meta Tags -->
    <meta name="title" content="CV Builder - Create Your Professional CV in Minutes">
    <meta name="description" content="Build a professional, modern CV in minutes. Choose from multiple templates, fill in your details, and download a job-ready PDF or image. Free and easy to use.">
    <meta name="keywords" content="cv builder, resume maker, free cv builder, online cv, professional cv, cv template, create cv">
    <meta name="author" content="Kang">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://your-cv-builder-website.com"> <!-- TODO: Change this to your live URL -->

    <!-- Theme Color for Mobile Browsers (NEW) -->
    <meta name="theme-color" content="#6366f1">

    <!-- Referrer Policy for Security (NEW) -->
    <meta name="referrer" content="no-referrer-when-downgrade">

    <!-- Open Graph / Facebook / LinkedIn -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-cv-builder-website.com"> <!-- TODO: Change this -->
    <meta property="og:title" content="CV Builder - Create Your Professional CV in Minutes">
    <meta property="og:description" content="Build a professional, modern CV in minutes. Choose from multiple templates, fill in your details, and download a job-ready PDF or image. Free and easy to use.">
    <meta property="og:image" content="https://placehold.co/1200x630/6366f1/white?text=Free+CV+Builder&font=inter"> <!-- TODO: Change this to a real preview image -->
    <meta property="og:site_name" content="CV Builder">

    <!-- Twitter Card -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://your-cv-builder-website.com"> <!-- TODO: Change this -->
    <meta property="twitter:title" content="CV Builder - Create Your Professional CV in Minutes">
    <meta property="twitter:description" content="Build a professional, modern CV in minutes. Choose from multiple templates, fill in your details, and download a job-ready PDF or image. Free and easy to use.">
    <meta property="twitter:image" content="https://placehold.co/1200x630/6366f1/white?text=Free+CV+Builder&font=inter"> <!-- TODO: Change this -->
    <!-- <meta property="twitter:site" content="@YourTwitterHandle"> --> <!-- Optional: Uncomment and add your Twitter handle -->

    <!-- === Structured Data (JSON-LD) for Google === -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "CV Builder",
      "applicationCategory": "ProductivityApplication",
      "operatingSystem": "Web",
      "description": "Build a professional, modern CV in minutes. Choose from multiple templates, fill in your details, and download a job-ready PDF or image.",
      "author": {
        "@type": "Person",
        "name": "Kang"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "250"
      },
      "offers": {
        "@type": "Offer",
        "price": "0.00",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- === PDF & Image Download Libraries === -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" xintegrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEMYGTYkVVRg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" xintegrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ“„</text></svg>">
    
    <style>
      /* Apply the Inter font family */
      body {
        font-family: 'Inter', sans-serif;
      }
      /* Custom styles for the form input */
      .form-input {
        @apply w-full px-4 py-2 bg-white border border-gray-300 rounded-md text-dark-text placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-colors;
      }
      .form-label {
        @apply block mb-2 text-sm font-medium text-medium-text;
      }
      .form-textarea {
        @apply w-full px-4 py-2 bg-white border border-gray-300 rounded-md text-dark-text placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-transparent transition-colors;
      }
      .remove-btn {
        @apply text-sm text-red-500 hover:text-red-700 transition-colors;
      }
      .add-btn {
         @apply w-full inline-flex items-center justify-center px-4 py-2 border border-brand-primary text-base font-medium rounded-md shadow-sm text-brand-primary bg-white hover:bg-gray-50 transition-colors duration-300;
      }
      
      /* Accordion Styles */
      .accordion-content {
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.3s ease-out;
      }
      .accordion-content.open {
          max-height: 2000px; /* Set to a large enough value */
          transition: max-height 0.5s ease-in;
      }
      .accordion-arrow {
          transition: transform 0.3s ease;
      }
      .accordion-arrow.open {
          transform: rotate(180deg);
      }

      /* Modern Profile Template specific styles */
      .modern-preview-sidebar {
          background: linear-gradient(135deg, #6366f1, #4f46e5); /* Brand primary/secondary gradient */
          color: white;
          padding: 2.5rem 1.5rem;
          text-align: center;
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 1rem;
      }
      .modern-profile-image {
          width: 120px;
          height: 120px;
          border-radius: 50%;
          object-fit: cover;
          border: 4px solid rgba(255,255,255,0.3);
      }
      .modern-section-title {
          font-weight: 700;
          font-size: 1.25rem; /* text-xl */
          color: #374151; /* dark-text */
          margin-bottom: 0.75rem;
      }
      
      /* Minimalist Template specific styles */
      .minimalist-preview-sidebar {
          background-color: #f3f4f6; /* gray-100 */
          padding: 2.5rem 1.5rem;
      }
      .minimalist-profile-image {
          width: 150px;
          height: 150px;
          border-radius: 50%;
          object-fit: cover;
          margin-left: auto;
          margin-right: auto;
          display: block;
      }
      
      /* General Preview Pane */
      /* This ensures the preview pane itself doesn't get ridiculously large on huge screens */
      .preview-pane {
        max-width: 800px; /* You can adjust this value */
        margin-left: auto;
        margin-right: auto;
      }

      /* Loading spinner */
      .btn-spinner {
        @apply animate-spin -ml-1 mr-3 h-5 w-5 text-white;
        display: none; /* Hide by default */
      }
      /* Custom spinner for light button */
      .btn-light-spinner {
        @apply animate-spin -ml-1 mr-3 h-5 w-5 text-dark-text;
         display: none;
      }
      .btn-loading .btn-spinner, .btn-loading .btn-light-spinner {
        display: inline-block; /* Show when loading */
      }
      .btn-loading .btn-text {
        display: none; /* Hide text when loading */
      }
      .btn-loading .btn-icon {
          display: none; /* Hide icon when loading */
      }
    </style>
    
    <script>
      // Custom Tailwind configuration
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'brand-primary': '#6366f1', // Indigo 500
              'brand-secondary': '#4f46e5', // Indigo 600
              'light-bg': '#f9fafb', // Gray 50
              'light-card': '#ffffff', // White
              'light-border': '#e5e7eb', // Gray 200
              'dark-text': '#1f2937', // Gray 800
              'medium-text': '#6b7280', // Gray 500
            }
          }
        }
      }
    </script>
</head>
<body class="bg-light-bg text-dark-text antialiased">

    <!-- Header -->
    <header class="bg-light-card/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm border-b border-light-border">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <a href="#" class="flex-shrink-0 flex items-center nav-link" data-page="home">
                    <span class="text-2xl font-bold text-brand-primary">
                        {CV Builder}
                    </span>
                </a>
                
                <!-- Desktop Navigation -->
                <div class="hidden sm:block sm:ml-6">
                    <div class="flex space-x-4">
                        <a href="#" class="text-medium-text hover:text-dark-text px-3 py-2 rounded-md text-sm font-medium transition-colors nav-link" data-page="home">Home</a>
                        <a href="#" class="text-medium-text hover:text-dark-text px-3 py-2 rounded-md text-sm font-medium transition-colors nav-link" data-page="features">Features</a>
                        <a href="#" class="text-medium-text hover:text-dark-text px-3 py-2 rounded-md text-sm font-medium transition-colors nav-link" data-page="about">About Us</a>
                        <a href="#" class="text-medium-text hover:text-dark-text px-3 py-2 rounded-md text-sm font-medium transition-colors nav-link" data-page="builder-library">Create CV</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>

        <!-- PAGE: Home -->
        <section id="page-home" class="page-content">
            <!-- Hero Section -->
            <section class="relative pt-24 pb-32 overflow-hidden">
                <!-- BG Pattern -->
                <div aria-hidden="true" class="absolute inset-0 z-0">
                    <div class="absolute inset-0 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="absolute inset-y-0 right-0 w-1/2">
                            <svg class="absolute top-0 right-full transform -translate-y-1/4 -translate-x-1/4 lg:-translate-y-1/2" width="404" height="784" fill="none" viewBox="0 0 404 784">
                                <defs>
                                    <pattern id="hero-pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                                        <rect x="0" y="0" width="4" height="4" class="text-gray-200/50" fill="currentColor" />
                                    </pattern>
                                </defs>
                                <rect width="404" height="784" fill="url(#hero-pattern)" />
                            </svg>
                        </div>
                    </div>
                </div>

                <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h1 class="text-4xl font-extrabold tracking-tight text-dark-text sm:text-5xl md:text-6xl">
                        <span class="block xl:inline">Create Your Professional CV</span>
                        <span class="block text-brand-primary xl:inline">in Minutes</span>
                    </h1>
                    <p class="mt-6 max-w-md mx-auto text-lg text-medium-text sm:text-xl md:mt-8 md:max-w-3xl">
                        Our tool helps you build a stunning, professional-grade curriculum vitae. Stand out to employers with our easy-to-use builder.
                    </p>
                    <div class="mt-10 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center">
                        <a href="#" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300 nav-link" data-page="builder-library">
                            Start Building Now
                        </a>
                    </div>
                </div>
            </section>

            <!-- "How It Works" Section -->
            <section id="how-it-works" class="py-20 bg-light-card">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="lg:text-center">
                        <h2 class="text-base text-brand-primary font-semibold tracking-wide uppercase">Easy Steps</h2>
                        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-dark-text sm:text-4xl">
                            How It Works
                        </p>
                    </div>

                    <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
                        <!-- Step 1 -->
                        <div class="bg-light-bg rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:scale-[1.03] hover:shadow-xl">
                            <div class="p-6">
                                <div class="flex items-center space-x-4">
                                    <svg class="w-12 h-12 text-brand-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm4 0v12h4V6H8zm6 0v12h4V6h-4z"></path></svg>
                                    <h3 class="text-xl font-bold text-dark-text">1. Choose a Template</h3>
                                </div>
                                <p class="mt-4 text-medium-text">
                                    Select from our library of professionally designed, field-tested CV templates built to impress any recruiter.
                                </p>
                            </div>
                        </div>

                        <!-- Step 2 -->
                        <div class="bg-light-bg rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:scale-[1.03] hover:shadow-xl">
                            <div class="p-6">
                                <div class="flex items-center space-x-4">
                                    <svg class="w-12 h-12 text-brand-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"></path></svg>
                                    <h3 class="text-xl font-bold text-dark-text">2. Fill in Your Details</h3>
                                </div>
                                <p class="mt-4 text-medium-text">
                                    Our guided editor makes it simple to add your experience, skills, and education. No formatting required.
                                </p>
                            </div>
                        </div>

                        <!-- Step 3 -->
                        <div class="bg-light-bg rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:scale-[1.03] hover:shadow-xl">
                            <div class="p-6">
                                <div class="flex items-center space-x-4">
                                    <svg class="w-12 h-12 text-brand-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                    <h3 class="text-xl font-bold text-dark-text">3. Download Your CV</h3>
                                </div>
                                <p class="mt-4 text-medium-text">
                                    Export your completed CV as a high-quality PDF or Image, ready to be sent directly to employers.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- PAGE: Features -->
        <section id="page-features" class="page-content hidden">
            <section id="features" class="py-20 bg-light-bg">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="lg:text-center">
                        <h2 class="text-base text-brand-primary font-semibold tracking-wide uppercase">Powerful</h2>
                        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-dark-text sm:text-4xl">
                            Features to Help You Succeed
                        </p>
                    </div>

                    <div class="mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                        <!-- Feature Card -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                            <div class="p-6">
                                <h3 class="text-lg font-semibold text-dark-text">Professional Templates</h3>
                                <p class="mt-2 text-sm text-medium-text">ATS-friendly and recruiter-approved designs that make your profile stand out.</p>
                            </div>
                        </div>
                        <!-- Feature Card -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                            <div class="p-6">
                                <h3 class="text-lg font-semibold text-dark-text">Easy-to-Use Editor</h3>
                                <p class="mt-2 text-sm text-medium-text">A simple, intuitive interface. What you see is what you get.</p>
                            </div>
                        </div>
                        <!-- Feature Card -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                            <div class="p-6">
                                <h3 class="text-lg font-semibold text-dark-text">Instant PDF & Image Export</h3>
                                <p class="mt-2 text-sm text-medium-text">Download a pixel-perfect file of your CV with a single click.</p>
                            </div>
                        </div>
                        <!-- Feature Card -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                            <div class="p-6">
                                <h3 class="text-lg font-semibold text-dark-text">Dynamic Data Transfer</h3>
                                <p class="mt-2 text-sm text-medium-text">Switch templates anytime and your key information moves with you.</p>
                            </div>
                        </div>
                        <!-- Feature Card -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                            <div class="p-6">
                                <h3 class="text-lg font-semibold text-dark-text">Real-Time Preview</h3>
                                <p class="mt-2 text-sm text-medium-text">See your changes live on your CV as you type them.</p>
                            </div>
                        </div>
                        <!-- Feature Card -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden transform transition-all duration-300 hover:-translate-y-1 hover:shadow-xl">
                            <div class="p-6">
                                <h3 class="text-lg font-semibold text-dark-text">Secure & Private</h3>
                                <p class="mt-2 text-sm text-medium-text">Your data is yours. We respect your privacy and keep your information secure.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- PAGE: Template Library -->
        <section id="page-builder-library" class="page-content hidden">
            <section id="builder-library" class="py-20 bg-light-bg">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="lg:text-center mb-16">
                        <h2 class="text-base text-brand-primary font-semibold tracking-wide uppercase">Start Creating</h2>
                        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-dark-text sm:text-4xl">
                            Choose Your Template
                        </p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                        <!-- Template 1: Standard -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden flex flex-col">
                            <div class="p-4 border-b border-light-border">
                                <img src="https://placehold.co/600x800/f3f4f6/6b7280?text=Standard&font=inter" alt="Standard CV Template" class="w-full h-auto object-cover rounded-md aspect-[3/4]">
                            </div>
                            <div class="p-6 flex-grow flex flex-col">
                                <h3 class="text-xl font-bold text-dark-text">Standard Template</h3>
                                <p class="mt-2 text-medium-text text-sm flex-grow">A classic, professional, single-column layout. Perfect for traditional applications.</p>
                                <button type="button" class="mt-6 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300 use-template-btn" data-template="standard">
                                    Use Template
                                </button>
                            </div>
                        </div>
                        
                        <!-- Template 2: Modern Profile -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden flex flex-col">
                            <div class="p-4 border-b border-light-border">
                                <img src="https://placehold.co/600x800/6366f1/ffffff?text=Modern+Profile&font=inter" alt="Modern Profile CV Template" class="w-full h-auto object-cover rounded-md aspect-[3/4]">
                            </div>
                            <div class="p-6 flex-grow flex flex-col">
                                <h3 class="text-xl font-bold text-dark-text">Modern Profile Template</h3>
                                <p class="mt-2 text-medium-text text-sm flex-grow">A stylish template with a profile picture and a colored sidebar. Great for creative roles.</p>
                                <button type="button" class="mt-6 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300 use-template-btn" data-template="modern">
                                    Use Template
                                </button>
                            </div>
                        </div>

                        <!-- Template 3: Creative Minimalist -->
                        <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden flex flex-col">
                            <div class="p-4 border-b border-light-border">
                                <img src="https://placehold.co/600x800/ffffff/1f2937?text=Creative+Minimalist&font=inter" alt="Creative Minimalist CV Template" class="w-full h-auto object-cover rounded-md aspect-[3/4]">
                            </div>
                            <div class="p-6 flex-grow flex flex-col">
                                <h3 class="text-xl font-bold text-dark-text">Creative Minimalist</h3>
                                <p class="mt-2 text-medium-text text-sm flex-grow">A clean, two-column layout that clearly separates skills and contact info from experience.</p>
                                <button type"button" class="mt-6 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300 use-template-btn" data-template="minimalist">
                                    Use Template
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

        <!-- PAGE: CV Builder UI (Container) -->
        <section id="page-builder-ui" class="page-content hidden">
            <section id="builder" class="py-12 md:py-20 bg-light-bg">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl leading-8 font-extrabold tracking-tight text-dark-text sm:text-4xl">
                            Live CV Editor
                        </h2>
                        <button type="button" id="change-template-btn" class="inline-flex items-center justify-center px-4 py-2 border border-gray-300 text-base font-medium rounded-md shadow-sm text-dark-text bg-white hover:bg-gray-50 transition-colors duration-300 nav-link" data-page="builder-library">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm4 0v12h4V6H8zm6 0v12h4V6h-4z"></path></svg>
                            Change Template
                        </button>
                    </div>

                    <!-- TEMPLATE UI: Standard -->
                    <div id="standard-template-ui" class="template-ui hidden">
                        <div class="lg:grid lg:grid-cols-5 lg:gap-8 items-start">
                            <!-- Form Column -->
                            <div class="lg:col-span-2 space-y-4">
                                
                                <!-- Accordion: Personal Details -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-standard-personal">
                                        <span class="text-2xl font-bold text-dark-text">Personal Details</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-standard-personal" class="accordion-content p-6 pt-0 space-y-4">
                                        <div>
                                            <label for="standard-full-name" class="form-label">Full Name</label>
                                            <input type="text" id="standard-full-name" class="form-input" placeholder="e.g., Jane Doe">
                                        </div>
                                        <div>
                                            <label for="standard-job-title" class="form-label">Job Title</label>
                                            <input type="text" id="standard-job-title" class="form-input" placeholder="e.g., Senior Web Developer">
                                        </div>
                                        <div>
                                            <label for="standard-email" class="form-label">Email Address</label>
                                            <input type="email" id="standard-email" class="form-input" placeholder="e.g., jane.doe@example.com">
                                        </div>
                                        <div>
                                            <label for="standard-phone" class="form-label">Phone</label>
                                            <input type="text" id="standard-phone" class="form-input" placeholder="e.g., (555) 123-4567">
                                        </div>
                                        <div>
                                            <label for="standard-address" class="form-label">Address</label>
                                            <input type="text" id="standard-address" class="form-input" placeholder="e.g., San Francisco, CA">
                                        </div>
                                        <div>
                                            <label for="standard-summary" class="form-label">Professional Summary</label>
                                            <textarea id="standard-summary" rows="5" class="form-textarea" placeholder="Dynamic and motivated professional..."></textarea>
                                        </div>
                                    </div>
                                </div>

                                <!-- Accordion: Work Experience -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-standard-experience">
                                        <span class="text-2xl font-bold text-dark-text">Work Experience</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-standard-experience" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="standard-experience-list" class="space-y-6">
                                            <!-- Dynamic entries go here -->
                                        </div>
                                        <button type="button" id="add-standard-experience-btn" class="add-btn">
                                            + Add Work Experience
                                        </button>
                                    </div>
                                </div>

                                <!-- Accordion: Education -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-standard-education">
                                        <span class="text-2xl font-bold text-dark-text">Education</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-standard-education" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="standard-education-list" class="space-y-6">
                                            <!-- Dynamic entries go here -->
                                        </div>
                                        <button type="button" id="add-standard-education-btn" class="add-btn">
                                            + Add Education
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Download Card -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden p-6 space-y-4">
                                    <h3 class="text-2xl font-bold text-dark-text">Download Your CV</h3>
                                    <p class="text-medium-text text-sm">Save your completed CV in your preferred format.</p>
                                    <button type="button" id="download-pdf-standard" class="download-btn w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300" data-template="standard" data-format="pdf">
                                        <svg class="btn-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                        <svg class="w-5 h-5 mr-2 btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                        <span class="btn-text">Download as PDF</span>
                                    </button>
                                    <button type="button" id="download-img-standard" class="download-btn w-full inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md shadow-sm text-dark-text bg-white hover:bg-gray-50 transition-colors duration-300" data-template="standard" data-format="img">
                                        <svg class="btn-light-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                        <svg class="w-5 h-5 mr-2 btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l-1.586-1.586a2 2 0 00-2.828 0L6 14m6-6l.01.01"></path></svg>
                                        <span class="btn-text">Download as Image</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Preview Column -->
                            <div class="lg:col-span-3 mt-8 lg:mt-0">
                                <div class="preview-pane">
                                    <div id="standard-preview" class="bg-white rounded-lg shadow-2xl p-8 lg:p-12 text-gray-900 border border-light-border">
                                        <!-- Header -->
                                        <div class="text-center border-b pb-4 border-gray-200">
                                            <h2 id="preview-standard-name" class="text-4xl font-bold text-gray-800">Jane Doe</h2>
                                            <p id="preview-standard-job-title" class="text-xl text-brand-secondary font-medium mt-1">Senior Web Developer</p>
                                            <p id="preview-standard-contact" class="text-md text-gray-600 mt-2">
                                                jane.doe@example.com | (555) 123-4567 | San Francisco, CA
                                            </p>
                                        </div>
                                        
                                        <!-- Summary -->
                                        <div class="mt-6">
                                            <h3 class="text-xl font-bold text-brand-secondary border-b-2 border-brand-primary pb-1 inline-block">Professional Summary</h3>
                                            <p id="preview-standard-summary" class="mt-2 text-gray-700">
                                                Dynamic and motivated professional with a proven record of...
                                            </p>
                                        </div>
                                        
                                        <!-- Experience -->
                                        <div class="mt-6">
                                            <h3 class="text-xl font-bold text-brand-secondary border-b-2 border-brand-primary pb-1 inline-block">Experience</h3>
                                            <div id="preview-standard-experience-list" class="mt-2 space-y-4">
                                                <!-- Dynamic preview entries go here -->
                                            </div>
                                        </div>

                                        <!-- Education -->
                                        <div class="mt-6">
                                            <h3 class="text-xl font-bold text-brand-secondary border-b-2 border-brand-primary pb-1 inline-block">Education</h3>
                                            <div id="preview-standard-education-list" class="mt-2 space-y-4">
                                                <!-- Dynamic preview entries go here -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 

                    <!-- TEMPLATE UI: Modern -->
                    <div id="modern-template-ui" class="template-ui hidden">
                        <div class="lg:grid lg:grid-cols-5 lg:gap-8 items-start">
                            <!-- Form Column -->
                            <div class="lg:col-span-2 space-y-4">
                                
                                <!-- Accordion: Personal Details & About -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-modern-personal">
                                        <span class="text-2xl font-bold text-dark-text">Personal Details & About</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-modern-personal" class="accordion-content p-6 pt-0 space-y-4">
                                        <div>
                                            <label for="modern-profile-pic" class="form-label">Profile Picture</label>
                                            <input type="file" id="modern-profile-pic" accept="image/*" class="form-input">
                                            <p class="mt-1 text-xs text-medium-text">Recommended: Square image for best display.</p>
                                        </div>
                                        <div>
                                            <label for="modern-full-name" class="form-label">Full Name</label>
                                            <input type="text" id="modern-full-name" class="form-input" placeholder="e.g., Ryan Adlard">
                                        </div>
                                        <div>
                                            <label for="modern-job-title" class="form-label">Job Title / Tagline</label>
                                            <input type="text" id="modern-job-title" class="form-input" placeholder="e.g., Web Designer, UX Specialist">
                                        </div>
                                        <div>
                                            <label for="modern-about" class="form-label">About Me</label>
                                            <textarea id="modern-about" rows="5" class="form-textarea" placeholder="I am Ryan Adlard, web designer from USA..."></textarea>
                                        </div>
                                        <div class="grid grid-cols-2 gap-4">
                                            <div>
                                                <label for="modern-age" class="form-label">Age</label>
                                                <input type="text" id="modern-age" class="form-input" placeholder="e.g., 24">
                                            </div>
                                            <div>
                                                <label for="modern-residence" class="form-label">Residence</label>
                                                <input type="text" id="modern-residence" class="form-input" placeholder="e.g., USA">
                                            </div>
                                            <div>
                                                <label for="modern-address" class="form-label">Address</label>
                                                <input type="text" id="modern-address" class="form-input" placeholder="e.g., California, USA">
                                            </div>
                                            <div>
                                                <label for="modern-freelance" class="form-label">Freelance</label>
                                                <select id="modern-freelance" class="form-input">
                                                    <option value="Available">Available</option>
                                                    <option value="Not Available">Not Available</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="space-y-2">
                                            <label class="form-label">Social Links</label>
                                            <input type="text" id="modern-linkedin" class="form-input" placeholder="LinkedIn URL">
                                            <input type="text" id="modern-github" class="form-input" placeholder="GitHub URL">
                                            <input type="text" id="modern-website" class="form-input" placeholder="Personal Website URL">
                                        </div>
                                    </div>
                                </div>

                                <!-- Accordion: My Services -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-modern-services">
                                        <span class="text-2xl font-bold text-dark-text">My Services</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-modern-services" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="modern-services-list" class="space-y-6">
                                            <!-- Dynamic entries go here -->
                                        </div>
                                        <button type="button" id="add-modern-service-btn" class="add-btn">
                                            + Add Service
                                        </button>
                                    </div>
                                </div>

                                <!-- Accordion: Experience -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-modern-experience">
                                        <span class="text-2xl font-bold text-dark-text">Experience</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-modern-experience" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="modern-experience-list" class="space-y-6">
                                            <!-- Dynamic entries go here -->
                                        </div>
                                        <button type="button" id="add-modern-experience-btn" class="add-btn">
                                            + Add Experience
                                        </button>
                                    </div>
                                </div>

                                <!-- Download Card -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden p-6 space-y-4">
                                    <h3 class="text-2xl font-bold text-dark-text">Download Your CV</h3>
                                    <p class="text-medium-text text-sm">Save your completed CV in your preferred format.</p>
                                    <button type="button" id="download-pdf-modern" class="download-btn w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300" data-template="modern" data-format="pdf">
                                        <svg class="btn-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                        <svg class="w-5 h-5 mr-2 btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                        <span class="btn-text">Download as PDF</span>
                                    </button>
                                    <button type="button" id="download-img-modern" class="download-btn w-full inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md shadow-sm text-dark-text bg-white hover:bg-gray-50 transition-colors duration-300" data-template="modern" data-format="img">
                                        <svg class="btn-light-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                        <svg class="w-5 h-5 mr-2 btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l-1.586-1.586a2 2 0 00-2.828 0L6 14m6-6l.01.01"></path></svg>
                                        <span class="btn-text">Download as Image</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Preview Column -->
                            <div class="lg:col-span-3 mt-8 lg:mt-0">
                                <div class="preview-pane">
                                    <div id="modern-preview" class="bg-white rounded-lg shadow-2xl text-gray-900 border border-light-border grid grid-cols-3 overflow-hidden">
                                        <!-- Sidebar -->
                                        <div class="col-span-1 modern-preview-sidebar">
                                            <img id="preview-modern-profile-pic" src="https://placehold.co/120x120/e0e7ff/4f46e5?text=Profile&font=inter" alt="Profile Picture" class="modern-profile-image">
                                            <h2 id="preview-modern-name" class="text-2xl font-bold text-white">Ryan Adlard</h2>
                                            <p id="preview-modern-job-title" class="text-sm font-medium text-white/90 -mt-2">Web Designer</p>

                                            <div class="flex space-x-3 text-white/80 mt-2">
                                                <a id="preview-modern-linkedin-link" href="#" target="_blank" class="hover:text-white"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a>
                                                <a id="preview-modern-github-link" href="#" target="_blank" class="hover:text-white"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.799 8.207 11.387.6.11.819-.26.819-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.043-1.61-4.043-1.61-.546-1.387-1.332-1.759-1.332-1.759-1.087-.745.083-.73.083-.73 1.205.085 1.838 1.238 1.838 1.238 1.07 1.835 2.809 1.305 3.492.998.108-.775.419-1.306.762-1.605-2.665-.3-5.464-1.332-5.464-5.93 0-1.31.465-2.382 1.235-3.22-.125-.303-.535-1.523.117-3.176 0 0 1-.32 3.297 1.23a11.55 11.55 0 013-1.42 11.55 11.55 0 013 1.42c2.297-1.55 3.297-1.23 3.297-1.23.652 1.653.242 2.873.117 3.176.77.838 1.235 1.91 1.235 3.22 0 4.61-2.8 5.625-5.474 5.923.43.37.817 1.109.817 2.236 0 1.605-.015 2.895-.015 3.284 0 .319.217.69.825.577C20.562 21.799 24 17.302 24 12c0-6.627-5.373-12-12-12z" clip-rule="evenodd"/></svg></a>
                                                <a id="preview-modern-website-link" href="#" target="_blank" class="hover:text-white"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15h2v-6h-2v6zm0-8h2V7h-2v2z"/></svg></a>
                                            </div>
                                        </div>
                                        
                                        <!-- Main Content -->
                                        <div class="col-span-2 p-8 lg:p-12 bg-white space-y-8">
                                            <!-- About Me -->
                                            <div>
                                                <h3 class="modern-section-title">About Me</h3>
                                                <p id="preview-modern-about" class="text-gray-700 text-sm leading-relaxed">
                                                    I am Ryan Adlard, web designer from USA, California. I have rich experience in web site design and building and customization, also I am good at wordpress. I love to talk with you about our unique.
                                                </p>
                                                <div class="grid grid-cols-2 gap-y-2 gap-x-4 text-sm mt-4">
                                                    <p><span class="font-semibold text-gray-700">AGE:</span> <span id="preview-modern-age">24</span></p>
                                                    <p><span class="font-semibold text-gray-700">RESIDENCE:</span> <span id="preview-modern-residence">USA</span></p>
                                                    <p><span class="font-semibold text-gray-700">FREELANCE:</span> <span id="preview-modern-freelance">Available</span></p>
                                                    <p><span class="font-semibold text-gray-700">ADDRESS:</span> <span id="preview-modern-address">California, USA</span></p>
                                                </div>
                                            </div>

                                            <!-- My Services -->
                                            <div>
                                                <h3 class="modern-section-title">My Services</h3>
                                                <div id="preview-modern-services-list" class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                                                    <!-- Dynamic services go here -->
                                                </div>
                                            </div>

                                            <!-- Experience -->
                                            <div>
                                                <h3 class="modern-section-title">Experience</h3>
                                                <div id="preview-modern-experience-list" class="mt-4 space-y-4">
                                                    <!-- Dynamic experience go here -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 

                    <!-- TEMPLATE UI: Minimalist -->
                    <div id="minimalist-template-ui" class="template-ui hidden">
                        <div class="lg:grid lg:grid-cols-5 lg:gap-8 items-start">
                            <!-- Form Column -->
                            <div class="lg:col-span-2 space-y-4">
                                
                                <!-- Accordion: Personal Details -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-minimalist-personal">
                                        <span class="text-2xl font-bold text-dark-text">Personal Details</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-minimalist-personal" class="accordion-content p-6 pt-0 space-y-4">
                                        <div>
                                            <label for="minimalist-profile-pic" class="form-label">Profile Picture</label>
                                            <input type="file" id="minimalist-profile-pic" accept="image/*" class="form-input">
                                        </div>
                                        <div>
                                            <label for="minimalist-full-name" class="form-label">Full Name</label>
                                            <input type="text" id="minimalist-full-name" class="form-input" placeholder="e.g., Alex Johnson">
                                        </div>
                                        <div>
                                            <label for="minimalist-job-title" class="form-label">Job Title</label>
                                            <input type="text" id="minimalist-job-title" class="form-input" placeholder="e.g., Product Manager">
                                        </div>
                                        <div>
                                            <label for="minimalist-email" class="form-label">Email Address</label>
                                            <input type="email" id="minimalist-email" class="form-input" placeholder="e.g., alex.johnson@example.com">
                                        </div>
                                        <div>
                                            <label for="minimalist-phone" class="form-label">Phone</label>
                                            <input type="text" id="minimalist-phone" class="form-input" placeholder="e.g., (555) 987-6543">
                                        </div>
                                        <div>
                                            <label for="minimalist-address" class="form-label">Address</label>
                                            <input type="text" id="minimalist-address" class="form-input" placeholder="e.g., New York, NY">
                                        </div>
                                        <div>
                                            <label for="minimalist-website" class="form-label">Website / LinkedIn</label>
                                            <input type="text" id="minimalist-website" class="form-input" placeholder="e.g., alexjohnson.com">
                                        </div>
                                        <div>
                                            <label for="minimalist-summary" class="form-label">Professional Summary</label>
                                            <textarea id="minimalist-summary" rows="5" class="form-textarea" placeholder="Results-driven Product Manager..."></textarea>
                                        </div>
                                    </div>
                                </div>

                                <!-- Accordion: Skills -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-minimalist-skills">
                                        <span class="text-2xl font-bold text-dark-text">Skills</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-minimalist-skills" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="minimalist-skills-list" class="space-y-6">
                                            <!-- Dynamic skills go here -->
                                        </div>
                                        <button type="button" id="add-minimalist-skill-btn" class="add-btn">
                                            + Add Skill
                                        </button>
                                    </div>
                                </div>

                                <!-- Accordion: Work Experience -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-minimalist-experience">
                                        <span class="text-2xl font-bold text-dark-text">Work Experience</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-minimalist-experience" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="minimalist-experience-list" class="space-y-6">
                                            <!-- Dynamic entries go here -->
                                        </div>
                                        <button type="button" id="add-minimalist-experience-btn" class="add-btn">
                                            + Add Work Experience
                                        </button>
                                    </div>
                                </div>

                                <!-- Accordion: Education -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden">
                                    <button type="button" class="accordion-header w-full flex justify-between items-center p-6 text-left" data-target="accordion-minimalist-education">
                                        <span class="text-2xl font-bold text-dark-text">Education</span>
                                        <svg class="accordion-arrow w-6 h-6 text-medium-text" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                    <div id="accordion-minimalist-education" class="accordion-content p-6 pt-0 space-y-4">
                                        <div id="minimalist-education-list" class="space-y-6">
                                            <!-- Dynamic entries go here -->
                                        </div>
                                        <button type="button" id="add-minimalist-education-btn" class="add-btn">
                                            + Add Education
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Download Card -->
                                <div class="bg-light-card rounded-lg shadow-lg border border-light-border overflow-hidden p-6 space-y-4">
                                    <h3 class="text-2xl font-bold text-dark-text">Download Your CV</h3>
                                    <p class="text-medium-text text-sm">Save your completed CV in your preferred format.</p>
                                    <button type="button" id="download-pdf-minimalist" class="download-btn w-full inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-lg text-white bg-brand-primary hover:bg-brand-secondary transition-colors duration-300" data-template="minimalist" data-format="pdf">
                                        <svg class="btn-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                        <svg class="w-5 h-5 mr-2 btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                        <span class="btn-text">Download as PDF</span>
                                    </button>
                                    <button type="button" id="download-img-minimalist" class="download-btn w-full inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md shadow-sm text-dark-text bg-white hover:bg-gray-50 transition-colors duration-300" data-template="minimalist" data-format="img">
                                        <svg class="btn-light-spinner" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                                        <svg class="w-5 h-5 mr-2 btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l-1.586-1.586a2 2 0 00-2.828 0L6 14m6-6l.01.01"></path></svg>
                                        <span class="btn-text">Download as Image</span>
                                    </button>
                                </div>
                            </div>

                            <!-- Preview Column -->
                            <div class="lg:col-span-3 mt-8 lg:mt-0">
                                <div class="preview-pane">
                                    <div id="minimalist-preview" class="bg-white rounded-lg shadow-2xl text-gray-900 border border-light-border grid grid-cols-3 overflow-hidden">
                                        <!-- Sidebar -->
                                        <div class="col-span-1 minimalist-preview-sidebar space-y-8">
                                            <div class="text-center">
                                                <img id="preview-minimalist-profile-pic" src="https://placehold.co/150x150/e0e7ff/4f46e5?text=Profile&font=inter" alt="Profile Picture" class="minimalist-profile-image">
                                                <h2 id="preview-minimalist-name" class="text-3xl font-bold text-gray-800 mt-4">Alex Johnson</h2>
                                                <p id="preview-minimalist-job-title" class="text-lg text-brand-secondary font-medium mt-1">Product Manager</p>
                                            </div>
                                            
                                            <!-- Contact -->
                                            <div>
                                                <h3 class="text-lg font-bold text-dark-text uppercase tracking-wider">Contact</h3>
                                                <div class="mt-2 space-y-1 text-sm text-medium-text border-t-2 border-brand-primary pt-2">
                                                    <p id="preview-minimalist-phone">(555) 987-6543</p>
                                                    <p id="preview-minimalist-email" class="break-words">alex.johnson@example.com</p>
                                                    <p id="preview-minimalist-address">New York, NY</p>
                                                    <p id="preview-minimalist-website" class="text-brand-primary font-medium break-words">alexjohnson.com</p>
                                                </div>
                                            </div>

                                            <!-- Skills -->
                                            <div>
                                                <h3 class="text-lg font-bold text-dark-text uppercase tracking-wider">Skills</h3>
                                                <div id="preview-minimalist-skills-list" class="mt-2 space-y-1 text-sm text-medium-text border-t-2 border-brand-primary pt-2">
                                                    <!-- Dynamic skills go here -->
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <!-- Main Content -->
                                        <div class="col-span-2 p-8 lg:p-12 bg-white space-y-8">
                                            <!-- Summary -->
                                            <div>
                                                <h3 class="text-2xl font-bold text-brand-secondary">Summary</h3>
                                                <p id="preview-minimalist-summary" class="mt-2 text-gray-700 text-sm leading-relaxed border-l-4 border-light-border pl-4">
                                                    Results-driven Product Manager with 5+ years of experience...
                                                </p>
                                            </div>

                                            <!-- Experience -->
                                            <div>
                                                <h3 class="text-2xl font-bold text-brand-secondary">Experience</h3>
                                                <div id="preview-minimalist-experience-list" class="mt-4 space-y-4">
                                                    <!-- Dynamic experience go here -->
                                                </div>
                                            </div>

                                            <!-- Education -->
                                            <div>
                                                <h3 class="text-2xl font-bold text-brand-secondary">Education</h3>
                                                <div id="preview-minimalist-education-list" class="mt-4 space-y-4">
                                                    <!-- Dynamic education go here -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> 

                </div>
            </section>
        </section>

        <!-- PAGE: About -->
        <section id="page-about" class="page-content hidden">
            <section class="py-20 bg-light-bg">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="lg:text-center">
                        <h2 class="text-base text-brand-primary font-semibold tracking-wide uppercase">Our Mission</h2>
                        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-dark-text sm:text-4xl">
                            About {CV Builder}
                        </p>
                    </div>
                    <div class="mt-16 max-w-3xl mx-auto text-lg text-medium-text space-y-6">
                        <p>Welcome to {CV Builder}, your number one source for creating professional, standout CVs with ease. We're dedicated to giving you the very best of CV building tools, with a focus on simplicity, professional design, and user-friendly functionality.</p>
                        <p>Founded in 2025 by a team of recruiters and software developers, {CV Builder} has come a long way from its beginnings. When we first started out, our passion for helping job seekers drove us to create a tool that would level the playing field, so that {CV Builder} can offer you the world's most advanced, yet simple, CV editor. We now serve customers all over the world, and are thrilled that we're able to turn our passion into our own website.</p>
                        <p>We hope you enjoy our product as much as we enjoy offering it to you. If you have any questions or comments, please don't hesitate to contact us.</p>
                    </div>
                </div>
            </section>
        </section>

        <!-- PAGE: Legal -->
        <section id="page-legal" class="page-content hidden">
            <section class="py-20 bg-light-bg">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="lg:text-center">
                        <h2 class="text-base text-brand-primary font-semibold tracking-wide uppercase">Legal</h2>
                        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-dark-text sm:text-4xl">
                            Legal Information
                        </p>
                    </div>
                    <div class="mt-16 max-w-3xl mx-auto text-dark-text space-y-8">
                        <div>
                            <h3 class="text-2xl font-bold text-dark-text mb-4">Privacy Policy</h3>
                            <div class="space-y-4 text-medium-text">
                                <p>Your privacy is important to us. It is {CV Builder}'s policy to respect your privacy regarding any information we may collect from you across our website...</p>
                                <p>We only ask for personal information when we truly need it to provide a service to you. We collect it byfair and lawful means, with your knowledge and consent. We also let you know why weâ€™re collecting it and how it will be used.</p>
                                <p>We only retain collected information for as long as necessary to provide you with your requested service. What data we store, weâ€™ll protect within commercially acceptable means to prevent loss and theft, as well as unauthorized access, disclosure, copying, use or modification.</p>
                            </div>
                        </div>
                        <div>
                            <h3 class="text-2xl font-bold text-dark-text mb-4">Terms of Service</h3>
                            <div class="space-y-4 text-medium-text">
                                <p>By accessing the website at {CV Builder}, you are agreeing to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws.</p>
                                <p>Permission is granted to temporarily download one copy of the materials (information or software) on {CV Builder}'s website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-light-card border-t border-light-border">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 overflow-hidden">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
                <!-- Footer Col 1 -->
                <div>
                    <h3 class="text-sm font-semibold text-medium-text tracking-wider uppercase">Product</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary nav-link" data-page="features">Features</a></li>
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary nav-link" data-page="home">How It Works</a></li>
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary nav-link" data-page="builder-library">Create CV</a></li>
                    </ul>
                </div>
                <!-- Footer Col 2 -->
                <div>
                    <h3 class="text-sm font-semibold text-medium-text tracking-wider uppercase">Company</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary nav-link" data-page="about">About Us</a></li>
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary">Careers</a></li>
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary">Contact</a></li>
                    </ul>
                </div>
                <!-- Footer Col 3 -->
                <div>
                    <h3 class="text-sm font-semibold text-medium-text tracking-wider uppercase">Legal</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary nav-link" data-page="legal">Privacy Policy</a></li>
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary nav-link" data-page="legal">Terms of Service</a></li>
                    </ul>
                </div>
                <!-- Footer Col 4 -->
                <div>
                    <h3 class="text-sm font-semibold text-medium-text tracking-wider uppercase">Connect</h3>
                    <ul class="mt-4 space-y-4">
                        <li><a href="#" class="text-base text-dark-text hover:text-brand-primary">LinkedIn</a></li>
                        <li><a href="#" class_name="text-base text-dark-text hover:text-brand-primary">Twitter / X</a></li>
                    </ul>
                </div>
            </div>
            <p class="mt-8 text-center text-base text-medium-text">
                &copy; 2025 {CV Builder}. Create your future.
            </p>
        </div>
    </footer>

    <!-- Main Application Script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Global State ---
            const appState = {
                currentPage: 'home',
                currentTemplate: null,
                // A central place to store data as user types
                cvData: {
                    personal: {
                        fullName: '',
                        jobTitle: '',
                        email: '',
                        phone: '',
                        address: '',
                        summary: '',
                        about: '',
                        profilePic: '', // Will store base64 data URL
                        age: '',
                        residence: '',
                        freelance: 'Available',
                        linkedin: '',
                        github: '',
                        website: ''
                    },
                    experience: [],
                    education: [],
                    services: [],
                    skills: []
                }
            };

            // --- Page Navigation ---
            const pageLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page-content');
            
            function showPage(pageId) {
                appState.currentPage = pageId;
                // Hide all pages
                pages.forEach(page => {
                    if (!page.classList.contains('hidden')) {
                        page.classList.add('hidden');
                    }
                });
                
                // Show the requested page
                const activePage = document.getElementById(`page-${pageId}`);
                if (activePage) {
                    activePage.classList.remove('hidden');
                    window.scrollTo(0, 0); // Scroll to top on page change
                } else {
                    // Fallback to home
                    document.getElementById('page-home').classList.remove('hidden');
                }
            }

            pageLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const pageId = link.getAttribute('data-page');
                    if (pageId) {
                        showPage(pageId);
                    }
                });
            });
            
            // --- Template Library Logic ---
            const templateButtons = document.querySelectorAll('.use-template-btn');
            
            templateButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const templateId = btn.dataset.template;
                    appState.currentTemplate = templateId;
                    showPage('builder-ui');
                    
                    // Hide all template UIs, then show the selected one
                    document.querySelectorAll('.template-ui').forEach(ui => ui.classList.add('hidden'));
                    const activeTemplateUI = document.getElementById(`${templateId}-template-ui`);
                    if (activeTemplateUI) {
                        activeTemplateUI.classList.remove('hidden');
                        // Open the first accordion in the newly selected template
                        const firstAccordionHeader = activeTemplateUI.querySelector('.accordion-header');
                        if (firstAccordionHeader && !firstAccordionHeader.classList.contains('open')) {
                            // Close all first, then open the target one
                            activeTemplateUI.querySelectorAll('.accordion-header').forEach(h => toggleAccordion(h, false));
                            toggleAccordion(firstAccordionHeader, true);
                        } else if (firstAccordionHeader) {
                            // Already open or logic handles it, just ensure it's open
                             toggleAccordion(firstAccordionHeader, true);
                        }
                    }
                    // Sync data from appState to the new template's form
                    syncStateToForm();
                });
            });

            // --- Accordion Logic (Generalized) ---
            const accordionHeaders = document.querySelectorAll('.accordion-header');
                
            function toggleAccordion(header, forceShow = null) {
                const content = document.getElementById(header.dataset.target);
                const arrow = header.querySelector('.accordion-arrow');
                if (!content || !arrow) return;

                const isOpen = content.classList.contains('open');
                
                if (forceShow === true) { // Force open
                    content.classList.add('open');
                    arrow.classList.add('open');
                } else if (forceShow === false) { // Force close
                    content.classList.remove('open');
                    arrow.classList.remove('open');
                } else { // Toggle
                    if (isOpen) {
                        content.classList.remove('open');
                        arrow.classList.remove('open');
                    } else {
                        content.classList.add('open');
                        arrow.classList.add('open');
                    }
                }
            }

            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = document.getElementById(header.dataset.target);
                    const isOpen = content.classList.contains('open');

                    // Close all accordions within the *same template UI*
                    const parentTemplateUI = header.closest('.template-ui');
                    if (parentTemplateUI) {
                        parentTemplateUI.querySelectorAll('.accordion-header').forEach(h => {
                            if(h !== header) { // Don't close the one being clicked
                                toggleAccordion(h, false);
                            }
                        });
                    }

                    // Toggle the clicked one
                    toggleAccordion(header);
                });
            });

            // --- Data Syncing & Preview Updates ---

            // 1. Sync from Form inputs TO appState.cvData
            function addFormListeners() {
                // --- Standard Template Inputs ---
                document.getElementById('standard-full-name').addEventListener('input', (e) => { appState.cvData.personal.fullName = e.target.value; updateStandardPreview(); });
                document.getElementById('standard-job-title').addEventListener('input', (e) => { appState.cvData.personal.jobTitle = e.target.value; updateStandardPreview(); });
                document.getElementById('standard-email').addEventListener('input', (e) => { appState.cvData.personal.email = e.target.value; updateStandardPreview(); });
                document.getElementById('standard-phone').addEventListener('input', (e) => { appState.cvData.personal.phone = e.target.value; updateStandardPreview(); });
                document.getElementById('standard-address').addEventListener('input', (e) => { appState.cvData.personal.address = e.target.value; updateStandardPreview(); });
                document.getElementById('standard-summary').addEventListener('input', (e) => { appState.cvData.personal.summary = e.target.value; updateStandardPreview(); });

                // --- Modern Template Inputs ---
                document.getElementById('modern-full-name').addEventListener('input', (e) => { appState.cvData.personal.fullName = e.target.value; updateModernPreview(); });
                document.getElementById('modern-job-title').addEventListener('input', (e) => { appState.cvData.personal.jobTitle = e.target.value; updateModernPreview(); });
                document.getElementById('modern-about').addEventListener('input', (e) => { appState.cvData.personal.about = e.target.value; updateModernPreview(); });
                document.getElementById('modern-profile-pic').addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e_reader) => {
                            appState.cvData.personal.profilePic = e_reader.target.result;
                            updateModernPreview();
                            updateMinimalistPreview(); // Also update minimalist pic
                        };
                        reader.readAsDataURL(file);
                    }
                });
                document.getElementById('modern-age').addEventListener('input', (e) => { appState.cvData.personal.age = e.target.value; updateModernPreview(); });
                document.getElementById('modern-residence').addEventListener('input', (e) => { appState.cvData.personal.residence = e.target.value; updateModernPreview(); });
                document.getElementById('modern-address').addEventListener('input', (e) => { appState.cvData.personal.address = e.target.value; updateModernPreview(); });
                document.getElementById('modern-freelance').addEventListener('input', (e) => { appState.cvData.personal.freelance = e.target.value; updateModernPreview(); });
                document.getElementById('modern-linkedin').addEventListener('input', (e) => { appState.cvData.personal.linkedin = e.target.value; updateModernPreview(); });
                document.getElementById('modern-github').addEventListener('input', (e) => { appState.cvData.personal.github = e.target.value; updateModernPreview(); });
                document.getElementById('modern-website').addEventListener('input', (e) => { appState.cvData.personal.website = e.target.value; updateModernPreview(); });

                // --- Minimalist Template Inputs ---
                document.getElementById('minimalist-full-name').addEventListener('input', (e) => { appState.cvData.personal.fullName = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-job-title').addEventListener('input', (e) => { appState.cvData.personal.jobTitle = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-email').addEventListener('input', (e) => { appState.cvData.personal.email = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-phone').addEventListener('input', (e) => { appState.cvData.personal.phone = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-address').addEventListener('input', (e) => { appState.cvData.personal.address = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-website').addEventListener('input', (e) => { appState.cvData.personal.website = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-summary').addEventListener('input', (e) => { appState.cvData.personal.summary = e.target.value; updateMinimalistPreview(); });
                document.getElementById('minimalist-profile-pic').addEventListener('change', (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (e_reader) => {
                            appState.cvData.personal.profilePic = e_reader.target.result;
                            updateModernPreview(); // Also update modern pic
                            updateMinimalistPreview();
                        };
                        reader.readAsDataURL(file);
                    }
                });
            }

            // 2. Sync from appState.cvData TO Form inputs (when changing templates)
            function syncStateToForm() {
                // Sync to Standard Form
                document.getElementById('standard-full-name').value = appState.cvData.personal.fullName;
                document.getElementById('standard-job-title').value = appState.cvData.personal.jobTitle;
                document.getElementById('standard-email').value = appState.cvData.personal.email;
                document.getElementById('standard-phone').value = appState.cvData.personal.phone;
                document.getElementById('standard-address').value = appState.cvData.personal.address;
                document.getElementById('standard-summary').value = appState.cvData.personal.summary || appState.cvData.personal.about; // Use summary or about
                
                // Sync to Modern Form
                document.getElementById('modern-full-name').value = appState.cvData.personal.fullName;
                document.getElementById('modern-job-title').value = appState.cvData.personal.jobTitle;
                document.getElementById('modern-about').value = appState.cvData.personal.about || appState.cvData.personal.summary; // Use about or summary
                document.getElementById('modern-age').value = appState.cvData.personal.age;
                document.getElementById('modern-residence').value = appState.cvData.personal.residence;
                document.getElementById('modern-address').value = appState.cvData.personal.address;
                document.getElementById('modern-freelance').value = appState.cvData.personal.freelance;
                document.getElementById('modern-linkedin').value = appState.cvData.personal.linkedin;
                document.getElementById('modern-github').value = appState.cvData.personal.github;
                document.getElementById('modern-website').value = appState.cvData.personal.website;
                // Note: File inputs (profilePic) cannot be programmatically set for security reasons.

                // Sync to Minimalist Form
                document.getElementById('minimalist-full-name').value = appState.cvData.personal.fullName;
                document.getElementById('minimalist-job-title').value = appState.cvData.personal.jobTitle;
                document.getElementById('minimalist-email').value = appState.cvData.personal.email;
                document.getElementById('minimalist-phone').value = appState.cvData.personal.phone;
                document.getElementById('minimalist-address').value = appState.cvData.personal.address;
                document.getElementById('minimalist-website').value = appState.cvData.personal.website || appState.cvData.personal.linkedin; // Use website or linkedin
                document.getElementById('minimalist-summary').value = appState.cvData.personal.summary || appState.cvData.personal.about;
                
                // Re-render all previews with the synced data
                updateStandardPreview();
                updateModernPreview();
                updateMinimalistPreview();
            }

            // 3. Preview Update Functions
            function updateStandardPreview() {
                const p = appState.cvData.personal;
                document.getElementById('preview-standard-name').innerText = p.fullName || 'Jane Doe';
                document.getElementById('preview-standard-job-title').innerText = p.jobTitle || 'Your Job Title';
                const contact = [
                    p.email || 'jane.doe@example.com',
                    p.phone || '(555) 123-4567',
                    p.address || 'San Francisco, CA'
                ];
                document.getElementById('preview-standard-contact').innerText = contact.join(' | ');
                document.getElementById('preview-standard-summary').innerText = p.summary || 'Dynamic and motivated professional with a proven record of...';
                
                // Render Experience & Education
                renderStandardExperience();
                renderStandardEducation();
            }

            function updateModernPreview() {
                const p = appState.cvData.personal;
                document.getElementById('preview-modern-profile-pic').src = p.profilePic || 'https://placehold.co/120x120/e0e7ff/4f46e5?text=Profile&font=inter';
                document.getElementById('preview-modern-name').innerText = p.fullName || 'Ryan Adlard';
                document.getElementById('preview-modern-job-title').innerText = p.jobTitle || 'Web Designer';
                document.getElementById('preview-modern-about').innerText = p.about || 'I am Ryan Adlard, web designer from USA...';
                document.getElementById('preview-modern-age').innerText = p.age || '24';
                document.getElementById('preview-modern-residence').innerText = p.residence || 'USA';
                document.getElementById('preview-modern-address').innerText = p.address || 'California, USA';
                document.getElementById('preview-modern-freelance').innerText = p.freelance || 'Available';
                
                const linkedin = document.getElementById('preview-modern-linkedin-link');
                linkedin.href = p.linkedin || '#';
                linkedin.style.display = p.linkedin ? 'inline-block' : 'none';

                const github = document.getElementById('preview-modern-github-link');
                github.href = p.github || '#';
                github.style.display = p.github ? 'inline-block' : 'none';

                const website = document.getElementById('preview-modern-website-link');
                website.href = p.website || '#';
                website.style.display = p.website ? 'inline-block' : 'none';

                // Render Services & Experience
                renderModernServices();
                renderModernExperience();
            }

            function updateMinimalistPreview() {
                const p = appState.cvData.personal;
                document.getElementById('preview-minimalist-profile-pic').src = p.profilePic || 'https://placehold.co/150x150/e0e7ff/4f46e5?text=Profile&font=inter';
                document.getElementById('preview-minimalist-name').innerText = p.fullName || 'Alex Johnson';
                document.getElementById('preview-minimalist-job-title').innerText = p.jobTitle || 'Product Manager';
                document.getElementById('preview-minimalist-phone').innerText = p.phone || '(555) 987-6543';
                document.getElementById('preview-minimalist-email').innerText = p.email || 'alex.johnson@example.com';
                document.getElementById('preview-minimalist-address').innerText = p.address || 'New York, NY';
                document.getElementById('preview-minimalist-website').innerText = p.website || 'alexjohnson.com';
                document.getElementById('preview-minimalist-summary').innerText = p.summary || 'Results-driven Product Manager with 5+ years of experience...';
                
                // Render Skills, Experience, Education
                renderMinimalistSkills();
                renderMinimalistExperience();
                renderMinimalistEducation();
            }


            // --- Dynamic Entry Add/Remove/Render Logic ---
            // (e.g., Experience, Education, Skills, Services)

            // -- Generic Factory for Dynamic Sections --
            function setupDynamicSection(config) {
                const addBtn = document.getElementById(config.addBtnId);
                const formList = document.getElementById(config.formListId);

                // Add new entry to form
                addBtn.addEventListener('click', () => {
                    const id = Date.now(); // Unique ID for the entry
                    const entry = config.createEntry(id);
                    appState.cvData[config.dataKey].push(entry);
                    
                    const entryDiv = document.createElement('div');
                    entryDiv.className = 'p-4 border border-light-border rounded-lg space-y-4 relative dynamic-entry';
                    entryDiv.dataset.id = id;
                    entryDiv.innerHTML = config.formHTML;

                    // Add listeners to update appState on input
                    entryDiv.querySelectorAll('input, textarea').forEach(input => {
                        input.addEventListener('input', (e) => {
                            const entryToUpdate = appState.cvData[config.dataKey].find(item => item.id == id);
                            if (entryToUpdate) {
                                entryToUpdate[e.target.dataset.key] = e.target.value;
                                config.renderPreview();
                            }
                        });
                    });

                    // Add listener for remove button
                    entryDiv.querySelector('.remove-btn').addEventListener('click', () => {
                        appState.cvData[config.dataKey] = appState.cvData[config.dataKey].filter(item => item.id != id);
                        entryDiv.remove();
                        config.renderPreview();
                    });

                    formList.appendChild(entryDiv);
                    config.renderPreview();
                });
            }

            // --- Standard Template Dynamic Sections ---
            setupDynamicSection({
                addBtnId: 'add-standard-experience-btn',
                formListId: 'standard-experience-list',
                dataKey: 'experience',
                createEntry: (id) => ({ id, title: '', company: '', description: '', dates: '' }), // Added dates to sync
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove experience">âœ–</button>
                    <div><label class="form-label">Job Title</label><input type="text" class="form-input" placeholder="e.g., Senior Web Developer" data-key="title"></div>
                    <div><label class="form-label">Company & Dates</label><input type="text" class="form-input" placeholder="e.g., Tech Solutions Inc. | 2020 - Present" data-key="company"></div>
                    <div><label class="form-label">Description</label><textarea rows="4" class="form-textarea" placeholder="Led development of..." data-key="description"></textarea></div>
                `,
                renderPreview: renderStandardExperience
            });

            setupDynamicSection({
                addBtnId: 'add-standard-education-btn',
                formListId: 'standard-education-list',
                dataKey: 'education',
                createEntry: (id) => ({ id, degree: '', school: '', dates: '' }), // Added dates to sync
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove education">âœ–</button>
                    <div><label class="form-label">Degree / Certificate</label><input type="text" class="form-input" placeholder="e.g., B.S. in Computer Science" data-key="degree"></div>
                    <div><label class="form-label">School & Dates</label><input type="text" class="form-input" placeholder="e.g., State University | 2016 - 2020" data-key="school"></div>
                `,
                renderPreview: renderStandardEducation
            });

            // --- Modern Template Dynamic Sections ---
            setupDynamicSection({
                addBtnId: 'add-modern-service-btn',
                formListId: 'modern-services-list',
                dataKey: 'services',
                createEntry: (id) => ({ id, title: '', description: '' }),
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove service">âœ–</button>
                    <div><label class="form-label">Service Title</label><input type="text" class="form-input" placeholder="e.g., Web Development" data-key="title"></div>
                    <div><label class="form-label">Service Description</label><textarea rows="3" class="form-textarea" placeholder="Modern and mobile-ready websites..." data-key="description"></textarea></div>
                `,
                renderPreview: renderModernServices
            });

            setupDynamicSection({
                addBtnId: 'add-modern-experience-btn',
                formListId: 'modern-experience-list',
                dataKey: 'experience',
                createEntry: (id) => ({ id, title: '', company: '', dates: '', description: '' }),
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove experience">âœ–</button>
                    <div><label class="form-label">Job Title</label><input type="text" class="form-input" placeholder="e.g., Senior Web Developer" data-key="title"></div>
                    <div><label class="form-label">Company</label><input type="text" class="form-input" placeholder="e.g., Tech Solutions Inc." data-key="company"></div>
                    <div><label class="form-label">Dates</label><input type="text" class="form-input" placeholder="e.g., 2020 - Present" data-key="dates"></div>
                    <div><label class="form-label">Description</label><textarea rows="4" class="form-textarea" placeholder="Led development of..." data-key="description"></textarea></div>
                `,
                renderPreview: renderModernExperience
            });

            // --- Minimalist Template Dynamic Sections ---
             setupDynamicSection({
                addBtnId: 'add-minimalist-skill-btn',
                formListId: 'minimalist-skills-list',
                dataKey: 'skills',
                createEntry: (id) => ({ id, name: '' }),
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove skill">âœ–</button>
                    <div><label class="form-label">Skill</label><input type="text" class="form-input" placeholder="e.g., JavaScript" data-key="name"></div>
                `,
                renderPreview: renderMinimalistSkills
            });

            setupDynamicSection({
                addBtnId: 'add-minimalist-experience-btn',
                formListId: 'minimalist-experience-list',
                dataKey: 'experience',
                createEntry: (id) => ({ id, title: '', company: '', dates: '', description: '' }),
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove experience">âœ–</button>
                    <div><label class="form-label">Job Title</label><input type="text" class="form-input" placeholder="e.g., Product Manager" data-key="title"></div>
                    <div><label class="form-label">Company</label><input type="text" class="form-input" placeholder="e.g., Piped Piper" data-key="company"></div>
                    <div><label class="form-label">Dates</label><input type="text" class="form-input" placeholder="e.g., 2020 - Present" data-key="dates"></div>
                    <div><label class="form-label">Description</label><textarea rows="4" class="form-textarea" placeholder="Managed product lifecycle..." data-key="description"></textarea></div>
                `,
                renderPreview: renderMinimalistExperience
            });

            setupDynamicSection({
                addBtnId: 'add-minimalist-education-btn',
                formListId: 'minimalist-education-list',
                dataKey: 'education',
                createEntry: (id) => ({ id, degree: '', school: '', dates: '' }),
                formHTML: `
                    <button type="button" class="absolute top-2 right-2 remove-btn" title="Remove education">âœ–</button>
                    <div><label class="form-label">Degree / Certificate</label><input type="text" class="form-input" placeholder="e.g., B.A. in Business" data-key="degree"></div>
                    <div><label class="form-label">School</label><input type="text" class="form-input" placeholder="e.g., State University" data-key="school"></div>
                    <div><label class="form-label">Dates</label><input type="text" class="form-input" placeholder="e.g., 2016 - 2020" data-key="dates"></div>
                `,
                renderPreview: renderMinimalistEducation
            });
            

            // --- Dynamic Preview Rendering Functions ---
            
            function renderStandardExperience() {
                const list = document.getElementById('preview-standard-experience-list');
                list.innerHTML = '';
                if (appState.cvData.experience.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic">Add your work experience...</p>';
                    return;
                }
                appState.cvData.experience.forEach(item => {
                    const description = (item.description || '...')
                        .split('\n')
                        .map(line => `<li>${line}</li>`)
                        .join('');
                    list.innerHTML += `
                        <div class="mt-2">
                            <h4 class="text-lg font-semibold text-gray-800">${item.title || 'Job Title'}</h4>
                            <p class="text-sm text-gray-600 italic">${item.company || 'Company & Dates'}</p>
                            <ul class="list-disc list-inside text-gray-700 mt-1 space-y-1">
                                ${description}
                            </ul>
                        </div>
                    `;
                });
            }

            function renderStandardEducation() {
                const list = document.getElementById('preview-standard-education-list');
                list.innerHTML = '';
                if (appState.cvData.education.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic">Add your education...</p>';
                    return;
                }
                appState.cvData.education.forEach(item => {
                    list.innerHTML += `
                        <div class="mt-2">
                            <h4 class="text-lg font-semibold text-gray-800">${item.degree || 'Degree'}</h4>
                            <p class="text-sm text-gray-600 italic">${item.school || 'School & Dates'}</p>
                        </div>
                    `;
                });
            }

            function renderModernServices() {
                const list = document.getElementById('preview-modern-services-list');
                list.innerHTML = '';
                if (appState.cvData.services.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic text-sm text-center col-span-2">Add your services...</p>';
                    return;
                }
                appState.cvData.services.forEach(item => {
                    list.innerHTML += `
                        <div class="bg-light-bg p-4 rounded-md border border-light-border flex items-start space-x-3">
                            <svg class="w-6 h-6 text-brand-primary flex-shrink-0 mt-1" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            <div>
                                <h4 class="font-semibold text-gray-800">${item.title || 'Service Title'}</h4>
                                <p class="text-xs text-gray-600">${item.description || 'Brief description of service.'}</p>
                            </div>
                        </div>
                    `;
                });
            }

            function renderModernExperience() {
                const list = document.getElementById('preview-modern-experience-list');
                list.innerHTML = '';
                if (appState.cvData.experience.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic">Add your work experience...</p>';
                    return;
                }
                appState.cvData.experience.forEach(item => {
                    const description = (item.description || '...')
                        .split('\n')
                        .map(line => `<li>${line}</li>`)
                        .join('');
                    list.innerHTML += `
                        <div class="relative pl-8">
                            <span class="absolute left-0 top-1.5 h-3 w-3 rounded-full bg-brand-primary"></span>
                            <span class="absolute left-[5px] top-6 bottom-0 w-px bg-gray-300"></span>
                            <h4 class="text-lg font-semibold text-gray-800">${item.title || 'Job Title'}</h4>
                            <p class="text-sm text-gray-600 italic">${item.company || 'Company'} | ${item.dates || 'Start - End'}</p>
                            <ul class="list-disc list-inside text-gray-700 text-sm mt-1 space-y-1 ml-4">
                                ${description}
                            </ul>
                        </div>
                    `;
                });
            }
            
            function renderMinimalistSkills() {
                const list = document.getElementById('preview-minimalist-skills-list');
                list.innerHTML = '';
                if (appState.cvData.skills.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic">Add your skills...</p>';
                    return;
                }
                appState.cvData.skills.forEach(item => {
                    list.innerHTML += `<p>â€¢ ${item.name || 'Skill'}</p>`;
                });
            }

            function renderMinimalistExperience() {
                const list = document.getElementById('preview-minimalist-experience-list');
                list.innerHTML = '';
                if (appState.cvData.experience.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic">Add your work experience...</p>';
                    return;
                }
                appState.cvData.experience.forEach(item => {
                    const description = (item.description || '...')
                        .split('\n')
                        .map(line => `<li class="text-xs">${line}</li>`)
                        .join('');
                    list.innerHTML += `
                        <div class="mt-2">
                            <h4 class="text-lg font-semibold text-gray-800">${item.title || 'Job Title'}</h4>
                            <p class="text-sm text-gray-600 italic">${item.company || 'Company'} | ${item.dates || 'Start - End'}</p>
                            <ul class="list-disc list-inside text-gray-700 mt-1 space-y-1">
                                ${description}
                            </ul>
                        </div>
                    `;
                });
            }

            function renderMinimalistEducation() {
                const list = document.getElementById('preview-minimalist-education-list');
                list.innerHTML = '';
                if (appState.cvData.education.length === 0) {
                    list.innerHTML = '<p class="text-gray-500 italic">Add your education...</p>';
                    return;
                }
                appState.cvData.education.forEach(item => {
                    list.innerHTML += `
                        <div class="mt-2">
                            <h4 class="text-lg font-semibold text-gray-800">${item.degree || 'Degree'}</h4>
                            <p class="text-sm text-gray-600 italic">${item.school || 'School'} | ${item.dates || 'Start - End'}</p>
                        </div>
                    `;
                });
            }

            // --- Download Logic ---

            const downloadButtons = document.querySelectorAll('.download-btn');

            downloadButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const template = btn.dataset.template;
                    const format = btn.dataset.format;
                    const previewElement = document.getElementById(`${template}-preview`);
                    
                    if (!previewElement) {
                        console.error('Preview element not found for template:', template);
                        return;
                    }

                    // Get name for filename
                    const name = appState.cvData.personal.fullName.replace(/ /g, '_') || 'CV';
                    const filename = `CV-${name}.${format === 'pdf' ? 'pdf' : 'png'}`;

                    // Set button to loading state
                    btn.classList.add('btn-loading');
                    btn.disabled = true;

                    if (format === 'pdf') {
                        downloadAsPDF(previewElement, filename, btn);
                    } else {
                        downloadAsImage(previewElement, filename, btn);
                    }
                });
            });

            function downloadAsPDF(element, filename, buttonElement) {
                // Options for html2pdf
                const opt = {
                    margin:       0,
                    filename:     filename,
                    image:        { type: 'jpeg', quality: 0.98 },
                    html2canvas:  { scale: 2, useCORS: true, scrollY: -window.scrollY },
                    jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
                };

                // Use html2pdf to generate and save the file
                html2pdf().from(element).set(opt).save().then(() => {
                    // Reset button state after save
                    buttonElement.classList.remove('btn-loading');
                    buttonElement.disabled = false;
                }).catch(err => {
                    console.error("Error generating PDF:", err);
                    buttonElement.classList.remove('btn-loading');
                    buttonElement.disabled = false;
                });
            }

            function downloadAsImage(element, filename, buttonElement) {
                // Use html2canvas to generate the image
                html2canvas(element, { 
                    scale: 2, // Higher scale for better quality
                    useCORS: true,
                    scrollY: -window.scrollY
                }).then(canvas => {
                    // Create a link element to trigger the download
                    const link = document.createElement('a');
                    link.download = filename;
                    link.href = canvas.toDataURL('image/png');
                    link.click();

                    // Reset button state after download
                    buttonElement.classList.remove('btn-loading');
                    buttonElement.disabled = false;
                }).catch(err => {
                    console.error("Error generating image:", err);
                    buttonElement.classList.remove('btn-loading');
                    buttonElement.disabled = false;
                });
            }


            // --- Initial App Setup ---
            addFormListeners(); // Attach all listeners
            showPage('home'); // Show the home page on load
            
            // Add default data for demonstration
            // This is complex now, let's add one to each
            // We need to wait for the DOM to be ready
            document.getElementById('add-standard-experience-btn').click();
            document.getElementById('add-standard-education-btn').click();
            document.getElementById('add-modern-service-btn').click();
            document.getElementById('add-modern-experience-btn').click();
            document.getElementById('add-minimalist-skill-btn').click();
            document.getElementById('add-minimalist-experience-btn').click();
            document.getElementById('add-minimalist-education-btn').click();

        });
    </script>

</body>
</html>
